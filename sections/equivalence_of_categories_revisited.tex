\section{Equivalence of Categories Revisited}


\begin{theorem}
  A functor~$F \colon \Ccat \to \Dcat$ between two categories~$\Ccat$ and~$\Dcat$ is an equivalence if and only if it is both fully faithful and dense.
\end{theorem}


\begin{proof}
  Suppose first that~$F$ is an equivalence.
  Then let~$G \colon \Dcat \to \Ccat$ be a functor with~$G \circ F \cong \Id_\Ccat$ and~$F \circ G \cong \Id_\Dcat$, and let~$\eta \colon G \circ F \to \Id_\Ccat$ and~$\zeta \colon F \circ G \to \Id_\Dcat$ be natural isomorphisms.
  
  The functor~$F$ is dense because it holds for every object~$Y \in \Ob(\Dcat)$ that~$F(X) \cong Y$ for the object~$X \defined G(Y) \in \Ob(\Ccat)$ via the isomorphism~$\zeta_Y \colon F(G(Y)) \to Y$.
  
  To show that~$F$ is fully faithful we first show that~$F$ is faithful, and then, by using that~$G$ is faithful, that~$F$ is full.
  
  To see that~$F$ is faithful we note that for every morphism~$f \colon X \to X'$ in~$\Ccat$ the square
  \begin{equation}
  \label{diagram for fully faithful}
    \begin{tikzcd}[sep = large]
        GF(X)
        \arrow{r}[above]{GF(f)}
        \arrow{d}[left]{\eta_X}
      & GF(X')
        \arrow{d}[right]{\eta_{X'}}
      \\
        X
        \arrow{r}[above]{f}
      & X'
    \end{tikzcd}
  \end{equation}
  commutes by the naturality of~$\eta$.
  The morphism~$f$ is therefore uniquely determined by its image~$GF(f)$ via the relation
  \[
      f
    = \eta_{X'} \circ GF(f) \circ \eta_X^{-1} \,.
  \]
  
  To show that~$F$ is full we first note that~$G$ is faithful, because we can switch the roles of~$F$ and~$G$ in the above discussion.
  Let~$X, X' \in \Ob(\Ccat)$ be two objects and let~$g \colon F(X) \to F(X')$ be a morphism in~$\Dcat$.
  To find a morphism~$f \colon X \to X'$ with~$F(f) = g$ we use the above calculation as a motivation, and define
  \[
              f
    \coloneqq \eta_{X'} \circ G(g) \circ \eta_X^{-1}
  \]
  This ensures that the square
  \begin{equation}
    \label{definition of action of morphisms}
    \begin{tikzcd}[sep = large]
        GF(X)
        \arrow{r}[above]{G(g)}
        \arrow{d}[left]{\eta_X}
      & GF(X')
        \arrow{d}[right]{\eta_{X'}}
      \\
        X
        \arrow{r}[above]{f}
      & X'
    \end{tikzcd}
  \end{equation}
  commutes.
  By applying the functor~$GF$ to this diagram we get the following commutative square:
  \begin{equation}
    \label{applying GF}
    \begin{tikzcd}[sep = large]
        GFGF(X)
        \arrow{r}[above]{GFG(g)}
        \arrow{d}[left]{GF(\eta_X)}
      & GFGF(X')
        \arrow{d}[right]{GF(\eta_{X'})}
      \\
        GF(X)
        \arrow{r}[above]{GF(f)}
      & GF(X')
    \end{tikzcd}
  \end{equation}
  We can also get a similar commutative square by applying the naturality of~$\eta \colon GF \to \Id_{\Ccat}$ to the morphism~$G(g) \colon GF(X) \to GF(X')$, resulting in the following commutative square:
  \begin{equation}
    \label{applying eta}
    \begin{tikzcd}[sep = large]
        GFGF(X)
        \arrow{r}[above]{GFG(g)}
        \arrow{d}[left]{\eta_{GF(X)}}
      & GFGF(X')
        \arrow{d}[right]{\eta_{GF(X')}}
      \\
        GF(X)
        \arrow{r}[above]{G(g)}
      & GF(X')
    \end{tikzcd}
  \end{equation}
  We can also apply the naturality of~$\eta$ to the morphism~$\eta_X \colon GF(X) \to X$ to get the following commutative square:
  \[
    \begin{tikzcd}[sep = large]
        GFGF(X)
        \arrow{r}[above]{GF(\eta_X)}
        \arrow{d}[left]{\eta_{GF(X)}}
      & GFG(X)
        \arrow{d}[right]{\eta_X}
      \\
        GF(X)
        \arrow{r}[above]{\eta_X}
      & X
    \end{tikzcd}
  \]
  It follows from the commutativity of this last square that
  \begin{gather*}
      \eta_X \circ GF(\eta_X)
    = \eta_X \circ \eta_{GF(X)}
  \shortintertext{and hence}
      GF(\eta_X)
    = \eta_{GF(X)}
  \end{gather*}
  because~$\eta_X$ is an isomorphism.
  We find in the same way that also~$GF(\eta_{X'}) = \eta_{GF(X')}$.
  With this we find that the commutative squares~\eqref{applying GF} and~\eqref{applying eta} coincide in both vertical morphisms and in the upper morphism.
  It hence follows that
  \begin{align*}
        GF(f)
    &=  GF(\eta_{X'}) \circ GFG(g) \circ GF(\eta_X)^{-1}  \\
    &=  \eta_{GF(X')} \circ GFG(g) \circ \eta_{GF(X)}^{-1}
    =   G(g) \,.
  \end{align*}
  Because~$G$ is faithful it further follows that~$g = F(f)$, which shows that~$F$ is full.
  
  Suppose now on the other hand that the functor~$F$ is both fully faithful and dense.
  For every object~$Y \in \Ob(\Dcat)$ let~$G(Y) \in \Ob(\Ccat)$ be an object with~$FG(Y) \cong Y$;
  we choose an isomorphism~$\varepsilon_Y \colon FG(Y) \to Y$.
  If~$g \colon Y \to Y'$ is a morphism in~$\Dcat$ then there exist for the conjugated morphism~$\varepsilon_{Y'}^{-1} \circ g \circ \varepsilon_Y \colon FG(Y) \to FG(Y')$ a unique morphism~$G(g) \colon G(Y) \to G(Y')$ in~$\Dcat$ with~$FG(g) = \varepsilon_{Y'}^{-1} \circ g \circ \varepsilon_Y$, because~$F$ is fully faithful.
  
  We claim that~$G$ is a functor~$G \colon \Dcat \to \Ccat$ with both~$G \circ F \cong \Id_\Ccat$ and~$F \circ G \cong \Id_\Dcat$.
  
  We first show that~$G$ is a functor:
  If~$Y \in \Ob(\Dcat)$ then
  \[
      \varepsilon_Y^{-1} \circ {\id_Y} \circ \varepsilon_Y
    = \id_{FG(Y)}
    = F(\id_{G(Y)})
  \]
  and hence~$\id_{G(Y)} = G(\id_Y)$.
  It holds for any two composable morphisms~$g \colon Y \to Y'$ and~$g' \colon Y' \to Y''$ in~$\Dcat$ that
  \begin{align*}
     {}&  \varepsilon_{Y''}^{-1} \circ (g' \circ g) \circ \varepsilon_Y \\
    ={}&  \varepsilon_{Y''}^{-1} \circ g' \circ \varepsilon_{Y'}
          \circ
          \varepsilon_{Y'}^{-1} \circ g \circ \varepsilon_Y \\
    ={}&  FG(g') \circ FG(g)  \\
    ={}&  F( G(g') \circ G(g) ) \,,
  \end{align*}
  which shows that~$G(g' \circ g) = G(g') \circ G(g)$.
  
  To show that~$F \circ G \cong \Id_\Dcat$ we note that~$\varepsilon \defined (\varepsilon_Y)_{Y \in \Ob(\Dcat)}$ is a natural isomorphism~$\varepsilon \colon F \circ G \to \Id_\Dcat$.
  That~$\varepsilon$ is a natural transformation, i.e., that the square
  \[
    \begin{tikzcd}[sep = large]
        FG(Y)
        \arrow{r}[above]{FG(g)}
        \arrow{d}[left]{\varepsilon_Y}
      & FG(Y')
        \arrow{d}[right]{\varepsilon_{Y'}}
      \\
        Y
        \arrow{r}[above]{g}
      & Y'
    \end{tikzcd}
  \]
  commutes for every morphism~$g \colon Y \to Y'$ in~$\Dcat$, holds by construction of~$G(g)$.
  That~$\varepsilon_Y$ is an isomorphism for every~$Y \in \Dcat$ holds by choice of~$\varepsilon_Y$.
  
  To show that~$G \circ F \cong \Id_\Ccat$ we construct a natural isomorphism~$\eta \colon G \circ F \to \Id_\Ccat$:
  
  There exist for every object~$X \in \Ccat$ for the morphisms~$\varepsilon_{F(X)} \colon FGF(X) \to F(X)$ a unique morphism~$\eta_X \colon GF(X) \to X$ with~$\varepsilon_{F(X)} = F(\eta_X)$ because~$F$ is fully faithful.
  We set~$\eta \defined (\eta_X)_{X \in \Ob(\Ccat)}$.
  
  The family~$\eta$ is a natural transformation~$\eta \colon G \circ F \to \Id_\Ccat$:
  Let~$f \colon X \to X'$ be a morphism in~$\Ccat$.
  Then the square
  \[
    \begin{tikzcd}[sep = large]
        FGF(X)
        \arrow{r}[above]{FGF(f)}
        \arrow{d}[left]{\varepsilon_{F(X)}}
      & FGF(X')
        \arrow{d}[right]{\varepsilon_{F(X')}}
      \\
        F(X)
        \arrow{r}[above]{F(f)}
      & F(X')
    \end{tikzcd}
  \]
  commutes because~$\varepsilon \colon FG \to \Id_\Dcat$ is a natural transformation.
  We may rewrite this diagram as
  \[
    \begin{tikzcd}[sep = large]
        FGF(X)
        \arrow{r}[above]{FGF(f)}
        \arrow{d}[left]{F(\eta_X)}
      & FGF(X')
        \arrow{d}[right]{F(\eta_{X'})}
      \\
        F(X)
        \arrow{r}[above]{F(f)}
      & F(X')
    \end{tikzcd}
  \]
  by construction of~$\eta$.
  We thus find that
  \[
      F(f \circ \eta_X)
    = F(f) \circ F(\eta_X)
    = F(\eta_{X'}) \circ FGF(f)
    = F(\eta_{X'} \circ GF(f)) \,.
  \]
  It follows from~$F$ being faithful that already
  \[
      \eta_{X'} \circ GF(f)
    = f \circ \eta_X \,,
  \]
  i.e., that the square
  \begin{equation}
    \label{naturality of eta}
    \begin{tikzcd}[sep = large]
        GF(X)
        \arrow{r}[above]{GF(f)}
        \arrow{d}[left]{\eta_X}
      & GF(X')
        \arrow{d}[right]{\eta_{X'}}
      \\
        X
        \arrow{r}[above]{f}
      & X'
    \end{tikzcd}
  \end{equation}
  commutes.
  This shows that~$\eta \colon GF \to \Id_\Ccat$ is indeed a natural transformation.
  
  It follows for every~$X \in \Ob(\Ccat)$ from~$\varepsilon_{F(X)} = F(\eta_X)$ being an isomorphism that~$\eta_X$ is again an isomorphism:
  Indeed, there exists for the inverse~$\varepsilon_{F(X)}^{-1} \colon F(X) \to FGF(X)$ by the full faithfulness of~$F$ a unique morphism~$\eta'_X \colon X \to GF(X)$ with~$\varepsilon_{F(X)}^{-1} = F(\eta'_X)$.
  Then
  \[
      F(\eta_X \circ \eta'_X)
    = F(\eta_X) \circ F(\eta'_X)
    = \varepsilon_{F(X)} \circ \varepsilon_{F(X)}^{-1}
    = \id_{F(X)}
    = F(\id_X)
  \]
  and hence~$\eta_X \circ \eta'_X = \id_X$ because~$F$ is faithful.
  It can be shown similarly that also~$\eta'_X \circ \eta_X = \id_{GF(X)}$.
  This shows that the morphism~$\eta_X$ is an isomorphism with~$\eta_X^{-1} = \eta'_X$.
  
  This shows altogether the claim that~$\eta$ is a natural isomorphism~$\eta \colon G \circ F \to \Id_\Ccat$.
\end{proof}


\begin{remark*}
  The above proof displays an important property that a faithful functor~$F \colon \Ccat \to \Dcat$ possesses:
  \begin{enumerate}
    \item
      An identity between morphisms in~$\Ccat$ holds if and only if it holds after applying the functor~$F$.
      In particular, a diagram in~$\Ccat$ commutes if and only if it does so after applying the functor~$F$ to it.
      We have used this observation in the above proof to show the commutativity of the square~\eqref{naturality of eta}.
  \end{enumerate}
  If~$F$ is not only faithful but also full, and hence fully faithful, then we can observe the following:
  \begin{enumerate}[resume]
    \item
      A morphism~$f \colon X \to X'$ in~$\Ccat$ is an isomorphism if and only if the morphism~$F(f) \colon F(X) \to F(X')$ in~$\Dcat$ is an isomorphism.
      (This means that the functor~$F$ \emph{reflects}\index{reflects isomorphisms}\index{functor!reflects isomorphism} isomorphisms.)
      We have used this observation in the above proof to show that~$\eta_X$ is again an isomorphism.
  \end{enumerate}
\end{remark*}


\begin{remark*}
  \leavevmode
  \begin{enumerate}
    \item
      To show in the first part of the proof that~$G(g) = GF(f)$ (to show that~$F$ is full) one can also compare the squares~\eqref{diagram for fully faithful} and~\eqref{definition of action of morphisms} to find that
      \[
          G(g)
        = \eta_{X'}^{-1} \circ f \circ \eta_X
        = GF(f) \,.
      \]
    \item
      The author prefers a slightly different argumentation for the full faithfulness of the functor~$F$ in the first part of the proof:
      
      It follows for any two objects~$X, X' \in \Ob(\Ccat)$ from the commutativity of the square~\eqref{diagram for fully faithful} that the composition
      \[
          \Ccat(X, X')
        \xlongto{F}
          \Dcat(F(X), F(X'))
        \xlongto{G}
          \Ccat(GF(X), GF(X'))
        \xlongto{\eta_{X'} \circ (-) \circ \eta^{-1}_X}
          \Ccat(X, X')
      \]
      is the identity~$\id_{\Ccat(X,X')}$.
      This tells us that~$F$ is fully faithful, and that~$G$ is full \enquote{on the image of~$F$}, i.e., that the map
      \[
          \Dcat(Y, Y')
        \xlongto{G}
          \Ccat(G(Y), G(Y'))
      \]
      is surjective for any two objects~$Y, Y' \in \Ob(\Dcat)$ that are of the form~$Y = F(X)$ and~$Y' = F(X')$ for suitable objects~$X, X' \in \Ob(\Ccat)$.
      
      We now use that the functor~$F$ is dense to extend this surjectivity to any two objects~$Y, Y' \in \Ob(\Ccat)$:
      There exist objects~$X, X' \in \Ob(\Ccat)$ for which there exist isomorphisms~$\varepsilon \colon Y \to F(X)$ and~$\varepsilon' \colon Y' \to F(X')$.
      It follows from the functoriality of~$G$ that~$G(\varepsilon) \colon G(Y) \to GF(X)$ and~$G(\varepsilon') \colon G(Y') \to GF(X')$ are again isomorphisms, and that the square
      \[
        \begin{tikzcd}[row sep = large, column sep = 8em]
            \Dcat(Y, Y')
            \arrow{r}[above]{\varepsilon' \circ (-) \circ \varepsilon^{-1}}
            \arrow{d}[left]{G}
          & \Dcat(F(X), F(X'))
            \arrow{d}[right]{G}
          \\
            \Ccat(G(Y), G(Y'))
            \arrow{r}[above]{G(\varepsilon') \circ (-) \circ G(\varepsilon)^{-1}}
          & \Ccat(GF(X), GF(Y'))
        \end{tikzcd}
      \]
      commutes.
      The horizontal maps in this square are bijections because the morphisms~$\varepsilon$,~$\varepsilon'$,~$G(\varepsilon)$ and~$G(\varepsilon')$ are isomorphisms;
      we have also seen above that the vertical map on the right is surjective, 
      It follows that the vertical map on the left is surjective as well, which shows that~$G$ is full.
      
      By switching the roles of~$F$ and~$G$ we also find that~$G$ is faithful and that~$F$ is full.
      This altogether shows that both~$F$ and~$G$ are fully faithful.
  \end{enumerate}
\end{remark*}


% TODO: Equivalence iff isomorphism of skeletons.




