\section{Yoneda extensions and \texorpdfstring{$\Ext^1$}{Ext 1}}


\begin{conventionnonum}
  Let~$\Acat$ be an abelian category for which the class of isomorphism classes~$\Ob(\Acat)/{\cong}$ is actually a set.
\end{conventionnonum}


\begin{remarkdefinition}
  Let~$X$ and~$Y$ be two objects in~$\Acat$.
  \begin{enumerate}
    \item
      We denote by~$\Extensions(X,Y)$ the class
      \[
        \Extensions(X,Y)
        \defined
        \left\{
          \xi
          =
          (a, E, b)
        \suchthat*
          \begin{array}{c}
            E \in \Ob(\Acat),
            \\
            a \colon Y \to E, \;
            b \colon E \to X,
            \\
            \text{$0 \to Y \xto{a} E \xto{b} X \to 0$ is exact}
          \end{array}
        \right\}  \,.
      \]
    \item
      Two such sequences~$\xi, \xi' \in \Extensions(X,Y)$ given by~$\xi = (a,E,b)$ and~$\xi' = (a', E', b')$  are \emph{equivalent} if there exists a morphism~$\varphi \colon E \to E'$ that makes the resulting diagram
      \[
        \begin{tikzcd}
            0
            \arrow{r}
          & Y
            \arrow{r}[above]{a}
            \arrow[equal]{d}
          & E
            \arrow{r}[above]{b}
            \arrow[dashed]{d}[right]{\varphi}
          & X
            \arrow{r}
            \arrow[equal]{d}
          & 0
          \\
            0
            \arrow{r}
          & Y
            \arrow{r}[above]{a'}
          & E'
            \arrow{r}[above]{b'}
          & X
            \arrow{r}
          & 0
        \end{tikzcd}
      \]
      commute.
      That~$\xi$ is equivalent to~$\xi'$ is denoted by~$\xi \sim \xi'$.
      Note that it follows from the \hyperref[5 lemma]{5-lemma} that~$\varphi$ is an isomorphism, which shows tells us that~$\sim$ is symmetric.
      We also observe that~$\sim$ is reflexive and transitive.
      We thus find that~$\sim$ is an equivalence relation on the class~$\Extensions(X,Y)$.
    \item
      The quotient~$\Ext^1_\Acat(X,Y) \defined \Extensions(X,Y)/{\sim}$ is by assumption a set.
      An equivalence class~$[\xi] \in \Ext^1(X,Y)$ is a \emph{Yoneda extension}\index{Yoneda!extension}\index{extension!Yoneda}.
  \end{enumerate}
\end{remarkdefinition}


\begin{remark*}
   If there exists a short exact sequence~$0 \to Y \to E \to X \to 0$, then~$E$ is an \emph{extension}\index{extension} of~$X$ by~$Y$.
   The class~$\Extensions(X,Y)$ can therefore be though of as the class of extensions of~$Y$ by~$X$.
   (Hence the letter~$\Extensions$.)
\end{remark*}


\begin{remark}
  Let~$X$ and~$Y$ be objects in~$\Acat$ and let~$\xi = (a,E,b) \in \Extensions(X,Y)$.
  \begin{enumerate}
    \item
      Every morphism~$f \colon X' \to X'$ in~$\Acat$ induces a map~$f^* \colon \Ext^1(X,Y) \to \Ext^1(X',Y)$ as follows:
      
      We start with the following pullback square:
      \[
        \begin{tikzcd}
            E'
            \arrow{r}[above]{b'}
            \arrow{d}[left]{f'}
            \arrow[phantom]{dr}[description]{\pb}
          & X'
            \arrow{d}[right]{f}
          \\
            E
            \arrow{r}[below]{b}
          & X
        \end{tikzcd}
      \]
      We know from \cref{kernels of pullbacks} that there exists a unique morphism~$a' \colon Y \to E'$ that makes the resulting diagram
      \[
        \begin{tikzcd}
            0
            \arrow{r}
          & Y
            \arrow{r}[above]{a'}
            \arrow[equal]{d}
          & E'
            \arrow{r}[above]{b'}
            \arrow{d}[right]{f'}
            \arrow[phantom]{dr}[description]{\pb}
          & X'
            \arrow{r}
            \arrow{d}[right]{f}
          & 0
          \\
            0
            \arrow{r}
          & Y
            \arrow{r}[below]{a}
          & E
            \arrow{r}[below]{b}
          & X
            \arrow{r}
          & 0
        \end{tikzcd}
      \]
      commute, and such that the rows of this diagram are (short) exact.
      Observe that~$(a', E', b') \in \Extensions(X',Y)$.
      
      We claim that this construction is compatible with equivalence.
      More explicitly, let~$\xi_1, \xi_2 \in \Extensions(X,Y)$ with~$\xi_1 \sim \xi_2$
      Then for~$\xi'_1, \xi'_2 \in \Extensions(X', Y)$ resulting from the above construction, also~$\xi'_1 \sim \xi'_2$.
      
      Indeed, let~$\xi_i = (a_i, E_i, b_i)$ and~$\xi'_i = (a'_i, E'_i, b'_i)$.
      Let~$\varphi \colon E_1 \to E_2$ be a morphism that makes the resulting diagram
      \[
        \begin{tikzcd}
            0
            \arrow{r}
          & Y
            \arrow{r}[above]{a_1}
            \arrow[equal]{d}
          & E_1
            \arrow{r}[above]{b_1}
            \arrow[dashed]{d}[right]{\varphi}
          & X
            \arrow{r}
            \arrow[equal]{d}
          & 0
          \\
            0
            \arrow{r}
          & Y
            \arrow{r}[below]{a_2}
          & E_2
            \arrow{r}[below]{b_2}
          & X
            \arrow{r}
          & 0
        \end{tikzcd}
      \]
      commute.
      We get the following commutative diagram:
      \[
        \begin{tikzcd}[column sep =  2em, cramped]
            {}
          & 0
            \arrow{rr}
          & {}
          & Y
            \arrow{rr}[above]{a'_1}
            \arrow[equal]{dd}
            \arrow[equal]{dl}
          & {}
          & E'_1
            \arrow{rr}[above]{b'_1}
            \arrow{dd}[right, very near start]{f'_1}
          & {}
          & X'
            \arrow{rr}
            \arrow{dd}[right, near start]{f}
            \arrow[equal]{dl}
          & {}
          & 0
          \\
            0
            \arrow{rr}
          & {}
          & Y
          & {}
          & E'_2
            \arrow[from=ll, crossing over, "a'_2", near end]
          & {}
          & X'
            \arrow[from=ll, crossing over, "b'_2", near end]
          & {}
          & 0
            \arrow[from=ll, crossing over]
          & {}
          \\
            {}
          & 0
            \arrow{rr}
          & {}
          & Y
            \arrow{rr}[below, near start]{a_1}
            \arrow[equal]{dl}
          & {}
          & E_1
            \arrow{rr}[below, near start]{b_1}
            \arrow{dl}[below right]{\varphi}
          & {}
          & X
            \arrow{rr}
            \arrow[equal]{dl}
          & {}
          & 0
          \\
            0
            \arrow{rr}
          & {}
          & Y
            \arrow[from=uu, crossing over, equal]
            \arrow{rr}[below]{a_2}
          & {}
          & E_2
            \arrow[from=uu, crossing over, "f'_2", near start]
            \arrow{rr}[below]{b_2}
          & {}
          & X
            \arrow[from=uu, crossing over, "f", near start]
            \arrow{rr}
          & {}
          & 0
          & {}
        \end{tikzcd}
      \]
      It follows from the \hyperref[functoriality of pullback and pushout]{functoriality of the pullback} that there exists a unique morphism~$\varphi' \colon E'_1 \to E'_2$ that makes the resulting cube
      \[
        \begin{tikzcd}[cramped]
            {}
          & E'_1
            \arrow{rr}[above]{b'_1}
            \arrow{dd}[right, very near start]{f'_1}
            \arrow[dashed]{dl}[above left]{\varphi'}
          & {}
          & X'
            \arrow{dd}[right, near start]{f}
            \arrow[equal]{dl}
          \\
            E'_2
            \arrow{dd}[right, near start]{f'_2}
          & {}
          & X'
            \arrow[from=ll, crossing over, "b'_2", near end]
          & {}
          \\
            {}
          & E_1
            \arrow{rr}[above, near start]{b_1}
            \arrow{dl}[below right]{\varphi}
          & {}
          & X
            \arrow[equal]{dl}
          \\
            E_2
            \arrow{rr}[below]{b_2}
          & {}
          & X
            \arrow[from=uu, crossing over, "f", near start]
          & {}
          \\
        \end{tikzcd}
      \]
      commute.
      It then follows that the complete diagram
      \[
        \begin{tikzcd}[column sep =  2em, cramped]
            {}
          & 0
            \arrow{rr}
          & {}
          & Y
            \arrow{rr}[above]{a'_1}
            \arrow[equal]{dd}
            \arrow[equal]{dl}
          & {}
          & E'_1
            \arrow{rr}[above]{b'_1}
            \arrow{dd}[right, very near start]{f'_1}
            \arrow[dashed]{dl}[above left]{\varphi'}
          & {}
          & X'
            \arrow{rr}
            \arrow{dd}[right, near start]{f}
            \arrow[equal]{dl}
          & {}
          & 0
          \\
            0
            \arrow{rr}
          & {}
          & Y
          & {}
          & E'_2
            \arrow[from=ll, crossing over, "a'_2", near end]
          & {}
          & X'
            \arrow[from=ll, crossing over, "b'_2", near end]
          & {}
          & 0
            \arrow[from=ll, crossing over]
          & {}
          \\
            {}
          & 0
            \arrow{rr}
          & {}
          & Y
            \arrow{rr}[below, near start]{a_1}
            \arrow[equal]{dl}
          & {}
          & E_1
            \arrow{rr}[below, near start]{b_1}
            \arrow{dl}[below right]{\varphi}
          & {}
          & X
            \arrow{rr}
            \arrow[equal]{dl}
          & {}
          & 0
          \\
            0
            \arrow{rr}
          & {}
          & Y
            \arrow[from=uu, crossing over, equal]
            \arrow{rr}[below]{a_2}
          & {}
          & E_2
            \arrow[from=uu, crossing over, "f'_2", near start]
            \arrow{rr}[below]{b_2}
          & {}
          & X
            \arrow[from=uu, crossing over, "f", near start]
            \arrow{rr}
          & {}
          & 0
          & {}
        \end{tikzcd}
      \]
      commutes:
      It remains to show that the square
      \[
        \begin{tikzcd}
            Y
            \arrow{r}[above]{a'_1}
            \arrow[equal]{d}
          & E'_1
            \arrow{d}[right]{\varphi'}
          \\
            Y
            \arrow{r}[below]{a'_2}
          & E'_2
        \end{tikzcd}
      \]
      commutes.
      We have that
      \[
        f'_2 \varphi' a'_1
        =
        \varphi f'_1 a'_1
        =
        \varphi a_1 \id_Y
        =
        a_2 \id_Y \id_Y
        =
        a_2 \id_Y \id_Y
        =
        f'_2 a'_2 \id_Y \,,
      \]
      and also that
      \[
        b'_2 \varphi' a'_1
        =
        \id_{X'} \underbrace{b'_1 a'_1}_{=0}
        =
        0
        =
        \underbrace{b'_2 a'_2}_{=0} \id_Y  \,.
      \]
      It follows from the universal property of the pullback (applied to~$E'_2$) that indeed~$\varphi' a'_1 = a'_2 \id_Y$.
      
      This shows that~$\xi'_1$ and~$\xi'_2$ are again equivalent.
      We hence get a~{\welldef}%
      \footnote{We use, without proof, that different choices of pullback give equivalent sequences.}
      map
      \[
        f^*
        \colon
        \Ext^1(X, Y)
        \to
        \Ext^1(X', Y) \,.
      \]
      For~$\class{\xi} \in \Ext^1(X,Y)$ we also write
      \[
        \class{\xi} \cdot f
        \defined
        f^*( \class{\xi} )  \,.
      \]

    \item
      Let~$g \colon Y \to Y'$ be a morphism in~$\Acat$.
      We find dually to above discussion that the morphism~$g$ induces a~{\welldef} map
      \[
        g_*
        \colon
        \Ext^1(X,Y)
        \to
        \Ext^1(X,Y')  \,,
      \]
      and we denote for~$\class{\xi} \in \Ext^1(X,Y)$ the Yoneda extension~$g_*(\class{\xi}) \in \Ext^1(X,Y')$ by~$g \cdot \class{\xi}$.
      If~$\xi = (a,E,b)$ and~$g \cdot \class{\xi} = \class{\xi'}$ then one such a representative~$\xi' = (a',E',b')$ is given by the commutative diagram
      \[
        \begin{tikzcd}
            0
            \arrow{r}
          & Y
            \arrow{r}[above]{a}
            \arrow{d}[left]{g}
            \arrow[phantom]{dr}[description]{\po}
          & E
            \arrow{r}[above]{b}
            \arrow{d}
          & X
            \arrow{r}
            \arrow[equal]{d}
          & 0
          \\
            0
            \arrow{r}
          & Y'
            \arrow{r}[below]{a'}
          & E'
            \arrow{r}[below]{b'}
          & X
            \arrow{r}
          & 0
        \end{tikzcd}
      \]
      where the left square is a pushout.
    \item
      If~$f_2 \colon X' \to X$ and~$f_1 \colon X'' \to X'$ are morphisms in~$\Acat$ then
      \[
        (f_2 \circ f_1)^*
        =
        f_1^* \circ f_2^*
      \]
      for the induced maps
      \begin{align*}
        f_2^*
        &\colon
        \Ext^1(X, Y)
        \to
        \Ext^1(X', Y) \,,
        \\
        f_1^*
        &\colon
        \Ext^1(X', Y)
        \to
        \Ext^1(X'', Y)  \,.
      \end{align*}
      Indeed, let~$\class{\xi} \in \Ext^1(X,Y)$ with~$\xi = (a,E,b)$.
      Then~$f_2^*( \class{\xi} ) = \class{\xi'}$ for a sequence~$\xi' = (a', E' ,b') \in \Extensions(X', Y)$ such that we have a commutative diagram
      \[
        \begin{tikzcd}
            0
            \arrow{r}
          & Y
            \arrow{r}[above]{a'}
            \arrow[equal]{d}
          & E'
            \arrow{r}[above]{b'}
            \arrow{d}[right]{f'_2}
            \arrow[phantom]{dr}[description]{\pb}
          & X'
            \arrow{r}
            \arrow{d}[right]{f_2}
          & 0
          \\
            0
            \arrow{r}
          & Y
            \arrow{r}[below]{a}
          & E
            \arrow{r}[below]{b}
          & X
            \arrow{r}
          & 0
        \end{tikzcd}
      \]
      in which the right square is a pullback.
      We similarly have that~$f_1^*( \class{\xi'} ) = \class{\xi''}$ for a sequence~$\xi'' = (a'', E'', b'') \in \Extensions(X'', Y)$ such that we have a commutative diagram
      \[
        \begin{tikzcd}
            0
            \arrow{r}
          & Y
            \arrow{r}[above]{a''}
            \arrow[equal]{d}
          & E''
            \arrow{r}[above]{b''}
            \arrow{d}[right]{f'_1}
            \arrow[phantom]{dr}[description]{\pb}
          & X''
            \arrow{r}
            \arrow{d}[right]{f_1}
          & 0
          \\
            0
            \arrow{r}
          & Y
            \arrow{r}[below]{a'}
          & E'
            \arrow{r}[below]{b'}
          & X'
            \arrow{r}
          & 0
        \end{tikzcd}
      \]
      in which the right square is a pullback.
      By glueing the above two diagrams together we get the following commutative diagram:
      \[
        \begin{tikzcd}
            0
            \arrow{r}
          & Y
            \arrow{r}[above]{a''}
            \arrow[equal]{d}
          & E''
            \arrow{r}[above]{b''}
            \arrow{d}[right]{f'_1}
            \arrow[phantom]{dr}[description]{\pb}
          & X''
            \arrow{r}
            \arrow{d}[right]{f_1}
          & 0
          \\
            0
            \arrow{r}
          & Y
            \arrow{r}[above]{a'}
            \arrow[equal]{d}
          & E'
            \arrow{r}[above]{b'}
            \arrow{d}[right]{f'_2}
            \arrow[phantom]{dr}[description]{\pb}
          & X'
            \arrow{r}
            \arrow{d}[right]{f_2}
          & 0
          \\
            0
            \arrow{r}
          & Y
            \arrow{r}[below]{a}
          & E
            \arrow{r}[below]{b}
          & X
            \arrow{r}
          & 0
        \end{tikzcd}
      \]
      It follows from the \hyperref[transitivity of pullback and pushout]{transitivity of pullbacks} that in the subdiagram
      \[
        \begin{tikzcd}[column sep = large]
            0
            \arrow{r}
          & Y
            \arrow{r}[above]{a''}
            \arrow[equal]{d}
          & E''
            \arrow{r}[above]{b''}
            \arrow{d}[right]{f'_2 f'_1}
            \arrow[phantom]{dr}[description]{\pb}
          & X''
            \arrow{r}
            \arrow{d}[right]{f_2 f_1}
          & 0
          \\
            0
            \arrow{r}
          & Y
            \arrow{r}[below]{a}
          & E
            \arrow{r}[below]{b}
          & X
            \arrow{r}
          & 0
        \end{tikzcd}
      \]
      the right square is again a pullback.
      We find from this diagram that
      \[
        (f_2 \circ f_1)^*( \class{\xi} 
        =
        \class{\xi''}
      \]
      and therefore
      \[
        (f_2 \circ f_1)^*( \class{\xi} )
        =
        \class{\xi''}
        =
        f_1^*( \class{\xi'} )
        =
        f_1^*( f_2^*( \class{\xi} ) )
        =
        (f_1^* \circ f_2^*)( \class{x_i} )  \,,
      \]
      as desired.
      We note this equality can also be expressed as
      \[
        (\class{\xi} \cdot f_2) \cdot f_1
        =
        \class{\xi} \cdot (f_2 \cdot f_1) \,.
      \]

      We find similarly for all morphisms~$g_1 \colon Y \to Y'$ and~$g_2 \colon Y' \to Y''$ in~$\Acat$ that
      \[
        (g_2 \circ g_1)_*
        =
        (g_2)_* \circ (g_1)_*
      \]
      for the induced maps
      \begin{align*}
        (g_1)_*
        &\colon
        \Ext^1(X, Y)
        \to
        \Ext^1(X, Y') \,,
        \\
        (g_2)_*
        &\colon
        \Ext^1(X, Y')
        \to
        \Ext^1(X, Y'') \,.
      \end{align*}
      This equality can also be expressed as
      \[
        g_1 \cdot (g_2 \cdot \class{\xi})
        =
        (g_1 \circ g_2) \cdot \class{\xi}
      \]
      for every~$\class{\xi} \in \Ext^1(X,Y)$.
      
      We hence have functors
      \begin{align*}
        \Ext^1_\Acat(X,-)
        &\colon
        \Acat
        \to
        \Ab \,,
      \\
        \Ext^1_\Acat(-,Y)
        &\colon
        \Acat^\op
        \to
        \Ab \,.
      \end{align*}
    \item
      We have for all morphisms~$f \colon X' \to X$ and~$g \colon Y \to Y'$ in~$\Acat$ that
      \[
        g_* \circ f^*
        =
        f^* \circ g_* \,,
      \]
      which can also be expressed as
      \[
        g \cdot (\class{\xi} \cdot f)
        =
        (g \cdot \class{\xi}) \cdot f
      \]
      for every~$\class{\xi} \in \Ext^1(X,Y)$.
      To prove this we consider the following commutative diagram:
      \[
        \begin{tikzcd}
            g_* f^* \xi:
          & 0
            \arrow{r}
          & Y'
            \arrow{r}[above]{a^\circ}
          & E^\circ
            \arrow{r}[above]{b^\circ}
          & X'
            \arrow{r}
          & 0
          \\
            f^* \xi:
          & 0
            \arrow{r}
          & Y
            \arrow{u}[left]{g}
            \arrow[phantom]{ur}[description]{\llcorner}
            \arrow{r}[above]{a'}
            \arrow[equal]{d}
          & E'
            \arrow{u}[left]{g^\circ}
            \arrow{r}[above]{b'}
            \arrow[phantom]{dr}[description]{\lrcorner}
            \arrow{d}[right]{f'}
          & X'
            \arrow[equal]{u}
            \arrow{r}
            \arrow{d}[right]{f}
          & 0
          \\
            \xi:
          & 0
            \arrow{r}
          & Y
            \arrow{r}[above]{a}
            \arrow[phantom]{dr}[description]{\ulcorner}
            \arrow{d}[left]{g}
          & E
            \arrow{r}[above]{b}
            \arrow{d}[left]{g''}
          & X
            \arrow{r}
            \arrow[equal]{d}
          & 0
          \\
            g^* \xi:
          & 0
            \arrow{r}
          & Y'
            \arrow{r}[above]{a''}
          & E''
            \arrow{r}[above]{b''}
          & X
            \arrow{r}
          & 0
          \\
            f^* g_* \xi:
          & 0
            \arrow{r}
          & Y'
            \arrow[equal]{u}
            \arrow{r}[above]{a^{\circ\circ}}
          & E^{\circ\circ}
            \arrow{u}[right]{f^{\circ\circ}}
            \arrow[phantom]{ur}{\urcorner}
            \arrow{r}[above]{b^{\circ\circ}}
          & X'
            \arrow{u}[right]{f}
            \arrow{r}
          & 0
        \end{tikzcd}
      \]
      It follows from the universal property of the pushout (applied to~$E^\circ$) that there exists a unique morphism~$\lambda \colon E^\circ \to E''$  that makes the diagram
      \[
        \begin{tikzcd}
            Y
            \arrow{r}[above]{a'}
            \arrow[phantom]{dr}[description]{\po}
            \arrow{d}[left]{g}
          & E'
            \arrow{d}[left]{g^\circ}
            \arrow[bend left]{ddr}[above right]{g'' f'}
          & {}
          \\
            Y'
            \arrow{r}[above]{a^\circ}
            \arrow[bend right]{rrd}[below left]{a''}
          & E^\circ
            \arrow[dashed]{dr}[above right]{\lambda}
          & {}
          \\
            {}
          & {}
          & E''
        \end{tikzcd}
      \]
      commute.
      Then the square
      \[
        \begin{tikzcd}
            E^\circ
            \arrow{r}[above]{b^\circ}
            \arrow{d}[left]{\lambda}
          & X'
            \arrow{d}[right]{f}
          \\
            E''
            \arrow{r}[below]{b''}
          & X
        \end{tikzcd}
      \]
      commutes.
      This follows from the universal property of the pushout (applied to~$E^\circ$) because
      \[
        b'' \lambda a^\circ
        =
        b'' a''
        =
        f \circ 0
        =
        f b^\circ a^\circ
      \]
      and
      \[
       b'' \lambda g^\circ
       =
       b'' g'' f'
       =
       b f'
       =
       f b'
       =
       f \id_{X'} b^\circ g^\circ
       =
       f b^\circ g^\circ  \,.
      \]
      It now follows from the universal property of the pullback (applied to~$E^{\circ\circ}$) that there exists a unique morphism~$\varphi \colon E^\circ \to E^{\circ\circ}$ that makes the diagram
      \[
        \begin{tikzcd}
            E^\circ
            \arrow[bend left]{drr}[above right]{b^\circ}
            \arrow[dashed]{dr}[above right]{\varphi}
            \arrow[bend right]{ddr}[below left]{\lambda}
          & {}
          & {}
          \\
            {}
          & E^{\circ\circ}
            \arrow{r}[above]{b^{\circ\circ}}
            \arrow[phantom]{dr}[description]{\pb}
            \arrow{d}[left]{f^{\circ\circ}}
          & X'
            \arrow{d}[right]{f}
          \\
            {}
          & E''
            \arrow{r}[below]{b''}
          & X
        \end{tikzcd}
      \]
      commute.
      We claim that the morphism~$\varphi$ makes the diagram
      \begin{equation}
        \label{overall morphism}
        \begin{tikzcd}
            0
            \arrow{r}
          & Y'
            \arrow{r}[above]{a^\circ}
            \arrow[equal]{d}
          & E^\circ
            \arrow{r}[above]{b^\circ}
            \arrow[dashed]{d}[right]{\varphi}
          & X'
            \arrow{r}
            \arrow[equal]{d}
          & 0
          \\
            0
            \arrow{r}
          & Y'
            \arrow{r}[below]{a^{\circ\circ}}
          & E^{\circ\circ}
            \arrow{r}[below]{b^{\circ\circ}}
          & X'
            \arrow{r}
          & 0
        \end{tikzcd}
      \end{equation}
      commute.
      The right square commutes by the construction of~$\varphi$.
      The commutativity of the left square follows from the universal property of the pullback (applied to~$E^{\circ\circ}$) because
      \[
        b^{\circ\circ} \varphi a^\circ
        =
        b^\circ a^\circ
        =
        0
        =
        b^{\circ\circ} a^{\circ\circ}
      \]
      and
      \[
        f^{\circ\circ} \varphi a^\circ
        =
        \lambda a^\circ
        =
        a''
        =
        f^{\circ\circ} a^{\circ\circ} \,.
      \]
      The commutativity of the diagram~\eqref{overall morphism} proves the claim.
  \end{enumerate}
\end{remark}





\lecturend{26}





\begin{remarkdefinition}
  Let~$\class{\xi}, \class{\xi'} \in \Ext^1(X,Y)$ be two extensions given by representatives~$\xi = (a,E,b)$ and~$\xi' = (a',E',b')$.
  Then the sequence
  \[
    \xi \oplus \xi'
    \colon
    0
    \to
    Y \oplus Y
    \xlongto{ \begin{bsmallmatrix} a & 0 \\ 0 & a' \end{bsmallmatrix} }
    E \oplus E
    \xlongto{ \begin{bsmallmatrix} b & 0 \\ 0 & b' \end{bsmallmatrix} }
    X \oplus X
    \to
    0
  \]
  is again exact, and hence~$\class{\xi \oplus \xi'} \in \Ext^1(X \oplus X, Y \oplus Y)$.
  
  The extension~$\class{\xi \oplus \xi'}$ is independent of the choice of representatives~$\xi$ and~$\xi'$:
  Let~$\xi_1, \xi_2, \xi'_1, \xi'_2 \in \Extensions(X,Y)$ with~$\xi_1 \sim \xi_2$ and~$\xi'_1 \sim \xi'_2$.
  Suppose that~$\xi_i = (a_i, E_i, b_i)$ and~$\xi'_i = (a'_i, E'_i, b'_i)$ and let~$\varphi \colon E_1 \to E_2$ and~$\varphi' \colon E'_1 \to E'_2$ be morphisms that make the diagrams
  \[
    \begin{tikzcd}
        0
        \arrow{r}
      & Y
        \arrow{r}[above]{a_1}
        \arrow[equal]{d}
      & E_1
        \arrow{r}[above]{b_1}
        \arrow[dashed]{d}[right]{\varphi}
      & X
        \arrow{r}
        \arrow[equal]{d}
      & 0
      \\
        0
        \arrow{r}
      & Y
        \arrow{r}[above]{a'_1}
      & E'_1
        \arrow{r}[above]{b'_1}
      & X
        \arrow{r}
      & 0
    \end{tikzcd}
  \]
  and
  \[
    \begin{tikzcd}
        0
        \arrow{r}
      & Y
        \arrow{r}[above]{a_2}
        \arrow[equal]{d}
      & E_2
        \arrow{r}[above]{b_2}
        \arrow[dashed]{d}[right]{\varphi}
      & X
        \arrow{r}
        \arrow[equal]{d}
      & 0
      \\
        0
        \arrow{r}
      & Y
        \arrow{r}[above]{a'_2}
      & E'_2
        \arrow{r}[above]{b'_2}
      & X
        \arrow{r}
      & 0
    \end{tikzcd}
  \]
  commute.
  Then the diagram
  \[
    \begin{tikzcd}[column sep = large, row sep = large, ampersand replacement = \&]
          0
          \arrow{r}
      \&  X \oplus X
          \arrow{r}[above]{ \begin{bsmallmatrix} a_1 & 0 \\ 0 & a'_1 \end{bsmallmatrix} }
          \arrow[equal]{d}
      \&  E_1 \oplus E'_1
          \arrow{r}[above]{ \begin{bsmallmatrix} b_1 & 0 \\ 0 & b'_1 \end{bsmallmatrix} }
          \arrow{d}[right]{ \begin{bsmallmatrix} \varphi & 0 \\ 0 & \varphi' \end{bsmallmatrix} }
      \&  Y \oplus Y
          \arrow{r}
          \arrow[equal]{d}
      \&  0
      \\
          0
          \arrow{r}
      \&  X \oplus X
          \arrow{r}[below]{ \begin{bsmallmatrix} a_2 & 0 \\ 0 & a'_2 \end{bsmallmatrix} }
      \&  E_2 \oplus E'_2
          \arrow{r}[below]{ \begin{bsmallmatrix} b_2 & 0 \\ 0 & b'_2 \end{bsmallmatrix} }
      \&  Y \oplus Y
          \arrow{r}
      \&  0
    \end{tikzcd}
  \]
  commutes, which shows that~$\xi_1 \oplus \xi'_1 \sim \xi_2 \oplus \xi'_2$.
  This proves the claimed independence, and consequently allows us to write
  \[
    \class{\xi} \oplus \class{\xi'}
    \defined
    \class{\xi \oplus \xi'}
    \in
    \Ext^1(X \oplus X, Y \oplus Y)
  \]
  for all~$\class{\xi}, \class{\xi'} \in \Ext^1(X,Y)$.
  
  Together with the diagonal morphism~$\diag_X \colon X \to X \oplus X$ and the codiagonal morphism~$\codiag_Y \colon Y \oplus Y \to Y$ we get for all extensions~$\class{\xi}, \class{\xi'} \in \Ext^1(X,Y)$ an extension
  \[
    \class{\xi} + \class{\xi'}
    \defined
    \codiag_Y \cdot ( \class{\xi} \oplus \class{\xi'} ) \cdot \diag_X \,.
  \]
  The extension~$\class{\xi} + \class{\xi'}$ is the \emph{Baer sum}\index{Baer sum}\index{sum!Baer} of~$\class{\xi}$ and~$\class{\xi'}$.
\end{remarkdefinition}


\begin{remark}
  Let~$\kf$ be commutative ring and let~$A$ be a~{\kalg}.
  For all~{\modules{$A$}}~$M$ and~$N$ and all short exact sequences
  \begin{align*}
    \xi
    &\colon
    0
    \to
    N
    \xlongto{a}
    E
    \xlongto{b}
    M
    \to
    0 \,,
    \\
    \xi'
    &\colon
    0
    \to
    N'
    \xlongto{a'}
    E'
    \xlongto{b'}
    M'
    \to
    0
  \end{align*}
  the Baer sum~$\class{\xi} + \class{\xi'}$ is given by the short exact sequence
  \[
    0
    \to
    N
    \xlongto{a''}
    E''
    \xlongto{b''}
    M
    \to
    0
  \]
  where
  \[
    E''
    \defined
    \{
      (e,e') \in E \oplus E'
    \suchthat
      b(e) = b'(e')
    \}
    \big/
    \{
      (a(y), -a'(y))
    \suchthat
      y \in N
    \}
  \]
  and the homomorphisms~$a''$ and~$b''$ are given by
  \[
    a''(y)
    \defined
    \class{ (a(y), a'(y)) } \,,
    \quad
    b''(\class{(e,e')})
    \defined
    b(e)
    = b'(e')  \,.
  \]
% TODO: Prove this.
\end{remark}


\begin{lemma}
  \label{converse for pullback and pushout}
  Let
  \[
    \begin{tikzcd}
        0
        \arrow{r}
      & Y'
        \arrow{r}[above]{a'}
        \arrow{d}[left]{g}
      & E'
        \arrow{r}[above]{b'}
        \arrow{d}[left]{h}
      & X'
        \arrow{r}
        \arrow{d}[left]{f}
      & 0
      \\
        0
        \arrow{r}
      & Y
        \arrow{r}[below]{a}
      & E
        \arrow{r}[below]{b}
      & X
        \arrow{r}
      & 0
    \end{tikzcd}
  \]
  be a commutative diagram with (short) exact rows in~$\Acat$.
  \begin{enumerate}
    \item
      \label{right is pullback}
      If the morphism~$g$ is an isomorphism, then the right square is a pullback.
    \item
      \label{left is pushout}
      If the morphism~$f$ is an isomorphism, then the left square is a pushout.
  \end{enumerate}
\end{lemma}


\begin{proof}
  We prove part~\ref*{right is pullback}.
  Part~\ref*{left is pushout} then follows from part~\ref*{right is pullback} by duality.
  We consider for part~\ref*{right is pullback} the pullback:
  \[
    \begin{tikzcd}
      P
      \arrow{r}[above]{q}
      \arrow[phantom]{dr}[description]{\pb}
      \arrow{d}[left]{p}
      &
      X'
      \arrow{d}[right]{f}
      \\
      E
      \arrow{r}[below]{b}
      &
      X'
    \end{tikzcd}
  \]
  It follows from the universal property of the pullback~$(P,p,q)$ that there exists a unique morphism~$\varphi \colon E' \to P$ that makes the diagram
  \[
    \begin{tikzcd}
          E'
          \arrow[bend left]{drr}[above right]{b'}
          \arrow[dashed]{dr}[above right]{\varphi}
          \arrow[bend right]{ddr}[below left]{h}
        & {}
        & {}
        \\
          {}
        & P
          \arrow{r}[above]{q}
          \arrow[phantom]{dr}[description]{\pb}
          \arrow{d}[left]{p}
        & X'
          \arrow{d}[right]{f}
          \
        \\
          {}
        & E
          \arrow{r}[below]{b}
        & X
    \end{tikzcd}
  \]
  commute.
  We show that~$\varphi$ is an isomorphism.
  For this it is enough to show that~$\varphi$ is both a monomorphism and an epimorphism, because the category~$\Acat$ is abelian.
  
  The morphism~$\varphi$ is a monomorphism:
  Let~$e' \inA E'$ with~$\varphi e' = 0$.
  Then~$p \varphi e' = 0$ and~$q \varphi e' = 0$ (and by the universal property of the pullback~$P$ this really is equivalent to~$\varphi e' = 0$).
  Hence,~$k \varphi e' = 0$ for the morphism
  \[
    k
    \defined
    \begin{bmatrix}
      p \\
      q
    \end{bmatrix}
    \colon
    P
    \to
    E \oplus X' \,.
  \]
  We know that
  \[
    k \varphi
    =
    \begin{bmatrix}
      p \\
      q
    \end{bmatrix}
    \varphi
    =
    \begin{bmatrix}
      p \varphi \\
      q \varphi
    \end{bmatrix}
    =
    \begin{bmatrix}
      h     \\
      b'
    \end{bmatrix}
  \]
  and hence conclude from~$k \varphi e' = 0$ that~$b' e' = 0$ and~$h e' = 0$.
  It follows from the exactness of the upper row that there exists some~$y' \inA Y'$ with~$a' y' \equiv e'$.
  Then
  \[
    0
    =
    h e'
    \equiv
    h a' y'
    =
    a g y'  \,.
  \]
  Both~$a$ and~$g$ are monomorphisms, hence~$y' = 0$.
  Therefore, also~$e' \equiv a' y' = 0$.
  
  The morphism~$\varphi$ is an epimorphism:
  Let~$z \inA P$ and set~$e \defined p z$ and~$x' \defined q z$.
  Then~$b e = f x'$.
  As~$b'$ is an epimorphism, there exists some~$\tilde{e}' \inA E'$ with~$b' \tilde{e}' \equiv x'$.
  Then
  \[
    b h \tilde{e}'
    =
    f b' \tilde{e}'
    \equiv
    f x'
    =
    b e \,.
  \]
  We can therefore consider the point~$e - h \tilde{e}' \inA E$ (from part~\ref*{difference element} of \cref{rules for diagram chase});
  then in particular~$b(e - h \tilde{e}') = 0$.
  It follows from the exactness of the lower row that there exists some~$y \inA Y$ with~$a y \equiv e - h \tilde{e}'$.
  As~$g$ is an epimorphism, there further exists some~$y' \inA Y'$ with~$g y' \equiv y$.
  Then
  \[
    e - h \tilde{e}'
    \equiv
    a y
    \equiv
    a g y'
    =
    h a' y'
  \]
  Therefore~$e \equiv h (a' y' + \tilde{e}')$.%
  \footnote{The author doesn’t understand why this holds.}
  Let~$e' \defined a' y' + \tilde{e}' \inA E'$.
  Then
  \[
    h e'
    =
    h (a' y' + \tilde{e}')
    \equiv
    e
  \]
  and
  \[
    b' e'
    =
    b' (a' y' + \tilde{e}')
    =
    b' a' y' + b' \tilde{e}'
    =
    0 + b' \tilde{e}'
    =
    b' \tilde{e}'
    \equiv
    x \,.
  \]
  We note that the morphism~$k \colon P \to E \oplus X'$ (as above) is a monomorphism by the universal property of the pullback~$(P,p,q)$.
  The above calculation shows that
  \[
    k \varphi e'
    =
    \begin{bmatrix}
      p \\
      q
    \end{bmatrix}
    \varphi e'
    =
    \begin{bmatrix}
      p \varphi e'  \\
      q \varphi e'
    \end{bmatrix}
    =
    \begin{bmatrix}
      h e'  \\
      b' e'
    \end{bmatrix}
    \equiv
    \begin{bmatrix}
      e \\
      x'
    \end{bmatrix}
    =
    \begin{bmatrix}
      p z \\
      q z
    \end{bmatrix}
    =
    \begin{bmatrix}
      p \\
      q
    \end{bmatrix}
    z
    =
    k z \,.
  \]
  It follows that~$\varphi e' \equiv z$ because~$k$ is a monomorphism.
  This shows that~$\varphi$ is an epimorphism.
\end{proof}


\begin{remarknonum}
  \Cref{converse for pullback and pushout} is a converse to \cref{kernels of pullbacks}.
\end{remarknonum}


\begin{theorem}
  Let~$X$ and~$Y$ be objects in~$\Acat$.
  \begin{enumerate}
    \item
      The Baer sum makes~$\Ext^1(X,Y)$ into an abelian group.
    \item
      The neutral element of~$\Ext^1(X,Y)$ is given by the split exact sequence
      \[
        0
        \to
        Y
        \xlongto{ \begin{bsmallmatrix} 0 \\ 1 \end{bsmallmatrix} }
        X \oplus Y
        \xlongto{ \begin{bsmallmatrix} 1 & 0 \end{bsmallmatrix} }
        X
        \to
        0 \,,
      \]
      and for every extension~$\class{\xi} \in \Ext^1_\Acat(X,Y)$ with~$\xi = (a,E,b)$ the inverse to~$\class{\xi}$ is given by the extension~$\class{\xi'}$ with~$\xi' = (-a,E,b)$.
    \item
      The functors~$\Ext^1_\Acat(X,-) \colon \Acat \to \Ab$ and~$\Ext^1_\Acat(-,Y) \colon \Acat^\op \to \Ab$ are additive.
  \end{enumerate}
\end{theorem}





\lecturend{27}




